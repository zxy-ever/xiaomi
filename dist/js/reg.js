"use strict";var nameflag=!1;$(".username").blur(function(){var e=this,s=$(this).val();return""===s?($(this).css("border-color","#f00"),$(".phone").css("display","none"),$(".err").css("display","block"),$(".err span").html("请输入手机号"),nameflag=!1):/^1[3456789]\d{9}$/.test(s)?($(this).css("border-color","#e8e8e8"),$(".phone").css("display","block"),$(".err").css("display","none"),nameflag=!0,void $.ajax({url:"http://jx.xuzhixiang.top/ap/api/checkname.php",type:"get",data:{username:s}}).then(function(s){nameflag=0==s.code?($(e).css("border-color","#f00"),$(".phone").css("display","none"),$(".err").css("display","block"),$(".err span").html("用户名已存在"),!1):($(e).css("border-color","#e8e8e8"),$(".phone").css("display","block"),$(".err").css("display","none"),!0)})):($(this).css("border-color","#f00"),$(".phone").css("display","none"),$(".err").css("display","block"),$(".err span").html("手机号码格式错误"),nameflag=!1)});var pwdflag=!1;$(".password").blur(function(){var s=$(this).val();if(!/\d{4,16}$/.test(s)||""===s)return $(this).css("border-color","#f00"),$(".pwd").css("display","none"),$(".err_pwd").css("display","block"),$(".err_pwd span").html("请输入4~16位密码"),pwdflag=!1;$(this).css("border-color","#e8e8e8"),$(".pwd").css("display","block"),$(".err_pwd").css("display","none"),pwdflag=!0}),$(".regBtn").click(function(){nameflag&&pwdflag?$.ajax({url:"http://jx.xuzhixiang.top/ap/api/reg.php",type:"get",data:{username:$(".username").val(),password:$(".password").val()}}).then(function(s){1==s.code&&(alert("注册成功"),location.href="./login.html")}):alert("请完善信息")});